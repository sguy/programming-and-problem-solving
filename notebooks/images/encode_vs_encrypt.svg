<svg width="600" height="300" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .label { font-family: sans-serif; font-size: 14px; text-anchor: middle; }
      .arrow { marker-end: url(#arrowhead); }
      .flow-label { font-family: sans-serif; font-size: 16px; font-weight: bold; text-anchor: middle; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" />
    </marker>
  </defs>

  <rect width="100%" height="100%" fill="white" />

  <!-- Encoding Flow -->
  <text x="300" y="20" class="flow-label">Encoding / Decoding (Public Process)</text>

  <rect x="50" y="50" width="100" height="40" rx="5" ry="5" fill="#e0e0e0" stroke="#333" />
  <text x="100" y="75" class="label">Plaintext</text>

  <line x1="150" y1="70" x2="230" y2="70" stroke="#333" class="arrow" />
  <text x="190" y="60" class="label">Encode</text>
  <text x="190" y="95" class="label">(Public Codec)</text>

  <rect x="230" y="50" width="120" height="40" rx="5" ry="5" fill="#cce5ff" stroke="#333" />
  <text x="290" y="75" class="label">Encoded Data</text>

  <line x1="350" y1="70" x2="430" y2="70" stroke="#333" class="arrow" />
  <text x="390" y="60" class="label">Decode</text>
  <text x="390" y="95" class="label">(Public Codec)</text>

  <rect x="430" y="50" width="100" height="40" rx="5" ry="5" fill="#e0e0e0" stroke="#333" />
  <text x="480" y="75" class="label">Plaintext</text>


  <!-- Encryption Flow -->
  <text x="300" y="160" class="flow-label">Encryption / Decryption (Private Process)</text>

  <rect x="50" y="200" width="100" height="40" rx="5" ry="5" fill="#e0e0e0" stroke="#333" />
  <text x="100" y="225" class="label">Plaintext</text>

  <!-- Key for Encrypt -->
  <path d="M170 165 Q 175 155, 180 165 T 190 165" stroke="#333" fill="none"/>
  <circle cx="180" cy="165" r="5" fill="#f0ad4e"/>
  <rect x="177" y="175" width="6" height="15" fill="#f0ad4e"/>
  <text x="190" y="175" class="label" text-anchor="start">Key</text>

  <line x1="150" y1="220" x2="230" y2="220" stroke="#333" class="arrow" />
  <text x="190" y="200" class="label">Encrypt</text>

  <rect x="230" y="200" width="120" height="40" rx="5" ry="5" fill="#ffcccc" stroke="#333" />
  <text x="290" y="225" class="label">Ciphertext</text>

  <!-- Key for Decrypt -->
  <path d="M370 165 Q 375 155, 380 165 T 390 165" stroke="#333" fill="none"/>
  <circle cx="380" cy="165" r="5" fill="#f0ad4e"/>
  <rect x="377" y="175" width="6" height="15" fill="#f0ad4e"/>
  <text x="390" y="175" class="label" text-anchor="start">Key</text>

  <line x1="350" y1="220" x2="430" y2="220" stroke="#333" class="arrow" />
  <text x="390" y="200" class="label">Decrypt</text>

  <rect x="430" y="200" width="100" height="40" rx="5" ry="5" fill="#e0e0e0" stroke="#333" />
  <text x="480" y="225" class="label">Plaintext</text>

</svg>
